<!DOCTYPE html>
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Lille | PATACYCLISTE.ORG</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/fonts.css">
    <link rel="stylesheet" href="/css/custom.css">

  </head>

  <body>
    <header class="site-header">
      
      <div class="site-info">
        <h1 class="site-title">
          <a href="/">PATACYCLISTE.ORG</a>
        </h1>
        
          <p class="site-description">Dialogist-Kantor Archives 1992-2025</p>
        
      </div>

      
      <nav class="site-nav">
        <ul class="menu">
          
            <li><a href="/">Home</a></li>
          
            <li><a href="/about/">About</a></li>
          
            <li><a href="/categories/">Categories</a></li>
          
            <li><a href="/tags/">Tags</a></li>
          
            <li><a href="/cronologi/">Cronologi</a></li>
          
        </ul>

        
        <div class="search-container">
          <input
            id="search-box"
            type="text"
            placeholder="Search..."
          >
          <div id="search-results"></div>
        </div>
      </nav>
      <hr>
</header>

  </body>
</html>



<h1>Lille</h1>




<ul>
  
  
  
  <li>
    
    <a href="/docs/2019_blanche_endive/">Blanche Endive / GREGOIRE MOTTE Espace Le Carré LILLE</a>
  </li>
  
</ul>

  <footer>
  





<script src="https://cdn.jsdelivr.net/npm/lunr/lunr.min.js"></script>
<script>
(async function() {
  try {
    const response = await fetch('\/index.json');
    const data = await response.json();

    const idx = lunr(function () {
      
      this.pipeline.remove(lunr.stopWordFilter);
      
      this.field('title');
      this.field('summary');
      this.field('content');
      this.ref('url');
      data.forEach(doc => this.add(doc));
    });

    const searchBox = document.getElementById('search-box');
    const resultsDiv = document.getElementById('search-results');
    if (!searchBox) return;

    function highlight(text, words) {
      const escapedWords = words.map(w => w.replace(/[-/\\^$*+?.()|[\]{}]/g, '\\$&'));
      const regex = new RegExp(`(${escapedWords.join('|')})`, 'gi');
      return text.replace(regex, '<mark>$1</mark>');
    }

    function getSnippet(text, words, radius = 75) {
      const lowerText = text.toLowerCase();
      let index = -1;
      for (const word of words) {
        const i = lowerText.indexOf(word.toLowerCase());
        if (i >= 0) { index = i; break; }
      }
      if (index < 0) return text.slice(0, 150) + (text.length > 150 ? "…" : "");
      const start = Math.max(0, index - radius);
      const end = Math.min(text.length, index + radius);
      let snippet = text.slice(start, end);
      if (start > 0) snippet = "…" + snippet;
      if (end < text.length) snippet = snippet + "…";
      return snippet;
    }

    function getMatchedTerms(result) {
      const terms = new Set();
      Object.keys(result.matchData.metadata).forEach(term => {
        terms.add(term);
      });
      return Array.from(terms);
    }

    let debounceTimer;

    searchBox.addEventListener('input', function() {
      const query = this.value.trim();
      clearTimeout(debounceTimer);
      
      debounceTimer = setTimeout(() => {
        resultsDiv.innerHTML = '';
        if (query.length < 3) return;

        const results = idx.search(query + '~1');
        
        if (results.length === 0) {
          resultsDiv.innerHTML = '<p>No results found</p>';
          return;
        }

        results.forEach(result => {
          const item = data.find(d => d.url === result.ref);
          const matchedTerms = getMatchedTerms(result);

          const link = document.createElement('a');
          link.href = item.url;
          link.style.display = 'block';
          link.style.marginBottom = '4px';
          link.style.textDecoration = 'none';
          link.style.color = '#007acc';
          link.innerHTML = highlight(item.title, matchedTerms);

          const excerpt = document.createElement('div');
          excerpt.style.fontSize = '0.9em';
          excerpt.style.color = '#555';
          const snippetText = item.summary 
            ? getSnippet(item.summary, matchedTerms)
            : getSnippet(item.content, matchedTerms);
          excerpt.innerHTML = highlight(snippetText, matchedTerms);

          const wrapper = document.createElement('div');
          wrapper.appendChild(link);
          wrapper.appendChild(excerpt);
          resultsDiv.appendChild(wrapper);
        });
      }, 300);
    });

  } catch (err) {
    console.error('Search index load failed:', err);
  }
})();
</script>


  
  <hr/>
  <sup>PATACYCLISTE.ORG / © Dialogist-Kantor 2025 </br>Durant les fêtes les confitures ne sont pas exposées</sup>
  
  </footer>
  </body>
</html>

